# Discord bot for mod "Online City"
__________________________________
### Внимание ! Бот существует в единственном экземпляре на все сервера "Online City"
### Регистрация сервера
После того как бот будет добавлен на сервер Discord он начнет слушать все каналы сервера где он добавлен
Если в одном из каналов набирается команда
```sh
OC! Reg IP_Server:Port Bot_Token
```
То на данном канале регистрируется бот и начинает ретранслировать сообщения с указанного сервера Online City
Что бы узнать токен сервера Online City , наберите в игре команду 
```sh
/Discord ServerToken
```
##### !Важно у бота должны быть права на чтение и запись этого канала

В ответ будет сообщен токен сервера, никому не говорите его, и регистрируйтесь сначала сделав приватный канал для чата на Discord,
После успешной регистрации сообщение будет автоматически удалено и после этого можно открыть канал для всех.
Действуют следующие ограничения:
Один канал Discord - один сервер "Online City
Если сервер недоступен более 10 минут, то тому человеку который его зарегистрировал отправляется приватное сообщение,
что сервер недоступен, и необходимо принять меры. По прошествии часа каждый час в течение суток. Если меры не были приняты, регистрация сервера будет автоматически удалена спустя 7 дней после того как сервер станет недоступен или канал связанный с сервером "Online City" будет удален.

### Регистрация пользователя
Если вы хотите отправить сообщение в игру, для этого надо сперва зарегистрироваться:
набрать в ПРИВАТНОЕ сообщение боту: 
```sh
OC! regme MyToken
```
Бот сам найдет на каком сервере Online City есть пользователь с таким токеном и в каком канале разрешить ему писать сообщения.
Все не авторизированные сообщения с зарегистрированного канала будут автоматически удаляться ботом в избежание флуда.
Что бы узнать свой токен, наберите в игре команду
```sh
/Discord
```
В ответ будет сообщен ваш токен, никому не говорите его, и регистрируйтесь только через приватный чат бота.

Что бы узнать все команды наберите 
```sh
!OC help
```
| Зависимости | Лицензия  
| ------ | ------ 
| [Net Core 3.1] [NetCore] |MIT License/X11 license |
| .Net Core Entity FrameWork 3.1 | MIT License/X11 license |
| MySQL | GNU GPL v2 |
| [Discord.Net][discord]  | The MIT License (MIT) |


   [NetCore]: <https://dotnet.microsoft.com/download/dotnet-core>
   [discord]: <https://discord.foxbot.me/stable/>
