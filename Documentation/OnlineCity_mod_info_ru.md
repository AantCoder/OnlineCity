OnlineCity - представляет из себя модуль сетевой игры для симулятора выживания RimWorld. Он позволяет нескольким игрокам играть на одной планете в режиме онлайн.

После регистрации, вы сможете создать свое поселение и начать развиваться бок о бок с другими участниками. Вам дается возможность наблюдать за прогрессом соседей, их поселениями и караванами, но самое главное вы сможете оказывать друг другу вполне материальную помощь, передавая еду, медикаменты, оружие или любые другие вещи, включая поселенцев. Например, можно прислать своего врача, чтобы помочь в трудную минуту, и договориться, чтобы после лечения всех, врача вернули назад. Для передачи необходимо лишь по всем правилам игры собрать караван и добраться до цели! Также теперь вы можете отбивать атаки на своё поселение и захватывать поселения других игроков, отдавая команды своим колонистам!

1. Общее описание
2. Обмен между игроками
3. Другое взаимодействие
4. Нападение на поселения игроков (PVP)
5. Установка мода и как начать играть
6. Дополнительные модификации
7. Сервер быстро
8. Сервер, про синхронизацию 
9. Сервер, общие настройки
10. Функции мода в игре
11. Возможные проблемы
12. Другие часто задаваемые вопросы

# 1. Общее описание

Данный мод почти не меняет гемплей. Все события, поселения НПЦ и игровые механики у каждого игрока свои и не связаны друг с другом. Благодаря этому не нарушается баланс игры, который был задуман разработчиками. Что именно меняется? 

Сохранение вашей игры происходит исключительно на сервер и попасть в сетевую игру можно только нажав на кнопку Сетевая игра и введя логин и пароль. Автосохранения происходят каждые 15 минут (можно поменять в настройках) и при выходе из игры. Важно! Не закрывайте игру по Alt-F4 или средствами операционной системы, в этом случае сохранение при выходе не сработает и прогресс откатится на момент последнего успешного сохранения. Для выхода пользуйтесь меню. Если по тем или иным причинам вы захотите поиграть в эту партию офлайн, то это можно сделать загрузив файл onlineCityTempLoad, но ваш прогресс нельзя будет перенести на сервер, можно лишь доиграть в офлайн. Если вы начинаете игру любым способом кроме как по кнопке Сетевая игра, то мод полностью отключается и не работает.

При игре онлайн на планете появляются поселения других игроков. Вид иконок примерно показывает богатство поселения, и, если они в сети, в домике будет гореть свет. Нажав на них можно увидеть, что это за игрок, в сети ли он, какая общая стоимость людей и вещей в поселении. Также отображаются и караваны других игроков.

Снарядив свой караван и дойдя до поселения или каравана игрока можно передать любые товары и пешки. К тому же у караванов отображается вес, который они ещё могут взять. Передача осуществляется в одну сторону. То есть, если нужно обменяться товарами нужно сначала договориться об этом в чате и сначала должен один игрок передать, то что нужно, потом другой игрок передаст в ответ. Если игрока нет в сети, то товар будет передан ему тогда, когда он войдет в игру.

В игре по кнопке Онлайн можно открыть чат, настройки и прочее. На первой вкладке в чате можно увидеть список всех игроков и тех, кто в сети. В чате можно создавать новые каналы и добавлять туда любых игроков. Нажав правкой кнопкой по любому игроку можно выбрать пункт Информация, и увидеть, что игрок написал о себе, сколько он уже играет, когда был в последний раз, список всех его колоний и караванов, их стоимость и общее богатство.

Для тех кто хочет большего можно на вкладке Настройки установить пункт Участвую в PVP. После этого можно будет нападать на поселения игроков, у которых также включена эта опция, и, конечно, если они также в сети.


# 2. Обмен между игроками

Передача между игроками возможна только с каравана. Для передачи чего-либо вам нужно выделить свой обычный караван, нажать правой кнопкой мыши на поселении или караване другого игрока и выбрать пункт Обмен товарами. Откроется интуитивно понятное окно выбора товара для передачи. Передать можно игроку любое количество товара, животных и поселенцев. Передавать можно сколько угодно раз, даже если игрок не в сети. 

При приёме передачи будет выдано сообщение, где будет кратко перечислено то, что передается и возможность отказаться от этого (в этом случае вещи будут уничтожены). Если игрок согласится, то переданные вещи появятся на самом большом складе, в названии которого есть символы "торг" или "trad", если такого нет, то на самом большом складе с любым названием.

При передаче заключенных есть нюанс. Они появляются не сразу в тюрьме, а на складе в виде пассивной враждебной пешки, без оружия, которую нужно захватить и поместить в нужную тюрьму самостоятельно.

При передаче последней пешки караван будет расформирован, а оставшиеся вещи автоматически добавлены к передаче. Но можно оставить какое-нибудь животное, чтобы потом в этот караван из одного животного союзник мог вернуть ваших колонистов.

При передаче поселенца все его связи с другими поселенцами теряются. Так, что не удивляйтесь лёгкой амнезии, когда ваши боевики вернутся после помощи соседу :)

Есть не решенная проблема передачи пешек при использовании HardcoreSK. Может быть, подобная проблема будет с ещё какими-нибудь модами, пока не известно.


# 3. Другое взаимодействие

Пираты и воинственные аборигены с радостью согласятся поработать за награду. Помимо этого, заплатив нужное количество золота можно вызвать кислотные осадки, натравить жуков, механоидов и прочее. Чтобы вызвать разные события найдите поселение другого игрока на палнете, выделите его, и нажмите на кнопку Взаимодействие.

Некоторые события могут иметь силу воздействия, например такие как рейды и жуки. Можно удвоить, утроить и т.д. их количество, относительно того, что игра сама генерирует для поселения. Как правило *10 очень сложно пережить даже игрокам со стажем. Цена вызова с увеличением уровня растет нелинейно. Вот общая формула цены за вызов:

(ценность_атакуемого_поселения/100 000)^(2/3) * 100 * сила_воздействия ^(3/2)

Дополнительно множитель *3, если это вызов жуков. Множитель *2 за вызов пиратов индустриального уровня. Множитель *5 за вызов механоидов.

Такде рейд можно вызвать не только пешком с краю карты, но и десантом в центр (цена *1.4), или рассеяным десантом (цена *1.5), при этом стоимость капсул игра также вычтет из общей стоимости рейда.

Данные расчеты могут со временем поменяться, в ходе настройки баланса. Помимо этого на сервере можно задавать общий коэффициент цены и конечной стоимости атакующего рейда. Также можно изменить максимальный коэффициент силы воздействия (по умолчанию *10).

Вызванный рейд придет к цели тогда, когда игрок войдет в игру. Если рейд очень большой (сила больше 50% из возможного выбора), то поселенцы заметят его приближение за полдня. После атаки следующая придет не раньше чем через игровые сутки, а через сколько именно будет рассчитано по следующей формуле:

1 + сила_воздействия * 0.16666 + 0.03333 * (ценность_атакуемого_поселения/100 000) = дней задержки перед следующем событием

Существует защита новичка: и атакующий игрок и его цель должны иметь игровое время больше двух лет и стоимость поселения больше 100 000.

События с разных вкладок можно вызывать одновременно. Каждый игрок может вызвать только по 1 событию с каждой вкладке на одного игрока. Но другой игрок также может добавить своё событие на эту же цель: в этом случае они будут вызваны по очереди сохраняя задержки. Общее количество событий в очереди не может превышать 2.


# 4. Нападение на поселения игроков (PVP)

Теперь, если вы хотите, то можете напасть на чужую колонию своим караваном. Вы появитесь с краю карты в случайном месте. Далее вы можете посмотреть на базу противника, ужаснуться и отступить (все пешки рядом с краем карты в этом случае перейдут в караван). Пограбить, если что-то можно унести с собой. Или же захватить поселение, убив или повалив все пешки противника.

Ваши колонисты нападут на колонию противника в таком виде, в котором он играет на данный момент (конечно, он должен быть онлайн). Правда, внутренности помещений будут закрыты, пока не разбиты двери или стены. Атакующие пешки находятся всегда в боевом режиме и принимают команды идти на позицию, стрелять в цель и атаковать цель вплотную. Также они могут бросить и подобрать оружие, одежду и взять или выбросить что-то из инвентаря, ещё могут что-то съесть или выпить. Собственно на этом возможности управления заканчиваются: получается, доступны только основные команды для ведения боя. Например, такие пункты как Активировать артефакты не работают. Также не работают настройки поведения пешки, например, автоатака всегда включена. Мирные навыки не доступны в бою, то есть, если вам нужно разобрать стену и у вас есть замечательный шахтёр, то всё равно придется её подрывать гранатой или стрелять из того что есть. Всё это, включая захват пешек можно делать после того, как поселение будет захвачено.

Отдельно стоит сказать про то, что атакующий управляет ситуацией удаленно. Из-за чего его приказы выполняются, но он не видит процесс прицеливания и стрельбы. Передвижения также происходят рывками. Печально, что не получилось сделать всё гладко. На данный момент я не вижу технической возможности сделать этот механизм лучше. Чтобы немного скомпенсировать потерю управления, скорость передвижения пешек атакуемого уменьшается в два раза (уменьшение начинает действовать через минуту после начала сражения, чтобы успеть занять позицию).

Для нападения у вас и у противника во вкладке Настройки должна стоять галочка "Участвую в PVP". Сменить её можно раз в сутки. Также для нападения ценность людей, животных и вещей вашего каравана не должна превышать определенной стоимости, которая зависит от цены поселения. Если вы столкнулись с такой проблемой, можете разделить караван, убрав из него животных или уменьшив количество атакующих. Точно узнать стоимость своего каравана можно, нажав в чате на свой ник и выбрав пункт Информация, откроется общая информация и информация по каждому поселению и каравану отдельно. На сервере есть настройка, сколько минут на игрока нельзя нападать после последней атаки. Например, на официальном сервере это 20 минут.

Если какая-либо сторона в процессе сражения выйдет из игры это будет равносильно поражению и игрок потеряет колонию, или караван которым атакует. Для другой стороны изменится только то, что враждебные пешки будут пассивно отстреливаться под управлением ИИ игры. Если атакующий хочет отступить, то он может в меню выбрать пункт Отступить, тогда те, кто находиться ближе 10 клеток к любому краю карты переместятся в караван. 

Пока идет PVP принудительно устанавливается половина первой скорости. Нельзя ни поставить паузу, ни ускорить.

Время суток и климатические условия не синхронизируются. Действуют текущие на хосте (тот, кого атакуют).

Прирученные животные из каравана не участвуют в атаке: они появятся у края карты и будут вас ждать, чтобы остаться или отступить с вами.


Если интересно вот точная формула максимальной цены атакующего каравана:
4 / (25/1000000 + 10/богатство колонии)
Выходит, например, так: стоимость колонии -> максимум для каравана
100 000 -> 32 000

400 000 -> 80 000

1 000 000 -> 114 400

2 000 000 -> 133 332


Есть ещё пара проблем, которые нужно учитывать атакующему. 

Всегда действует автоатака, поэтому, когда пешка стоит, она начинает атаковать цель, выбранную ИИ, если не была явно отдана команда атаки. Поэтому с однозарядным оружием нужно быть аккуратным.

Изредка команда идти может быть отменена или даже пешка может испугаться начать "убегать" к краю карты. Проверяйте, продолжают ли пешки выполнять команды. 

Детальные параметры пешки, такие как инвентарь, здоровье, нужды и прочее обновляются реже. При изменении инвентаря или изменении в здоровье. При этом пешка обновляется целиком и с неё падает выделение, если она была выделена.

Цель, которая сражена, не будет выбираться автоатакой и её нельзя бить вплотную, если вы непременно хотите добить, то застрелите её.

Крайняя позиция на границе карты не доступна, из-за сделанной заплатки. Дело в том, что ИИ игры видя, что атакующая пешка хочет уйти и уже находится на краю, немедленно удаляет её. Получается, что вещи, которые упали на самый край, будут доступны, только после захвата колонии. Также есть связанная с этим проблема: иногда, когда пешка находиться через клетку от края карты, она застревает там и не реагирует на команды. Исправить это пока не получилось, но если это произошло, то попробуйте выделить пешку и быстро нажимать правой кнопкой в стороне от края карты по разным точкам, пока она не начнёт туда двигаться.


# 5. Установка мода и как начать играть

1) Иметь любой RimWorld не ниже 1.1

2) Скачать мод HugsLib и Harmony https://bit.ly/2PQjc6d Или из Workshop https://bit.ly/2KvHtbP

3) Скачать сам мод OnlineCity. Последняя версия лежит в дискорде https://discord.gg/5DzWrnR на канале #новости, или из Workshop https://steamcommunity.com/sharedfiles/filedetails/?id=1908437382

4) Открыть RimWorld, в "Моды" поставить галочку на Harmony, затем Core, HugsLib, а только потом другие моды и OnlineCity (OnlineCity лучше ставить последним). Нажать кнопку закрыть. Игра должна перезапуститься.

5) В главном меню нажать на кнопку "Сетевая Игра". Если её нет, значит или версия RimWorld не поддерживается или мод не был включён правильно.

6) Создать аккаунт и войти в него. Перед этим убедитесь, что в папке Mods нет важных данных, сделайте их копию. Первый вход или регистрация на сервере может занять несколько минут, в зависимости от настроек сервера и скорости интернета.

7) Выбрать желаемое место для высадки.

8) Подобрать/Создать своих колонистов. Если есть возможность, то на всякий случай, если создаете в Prepare Carefully, сохраните их.

9) Все готово! Добро пожаловать в Online City!

Дополнительно может быть интересно:

В файле ModsConfig.xml список модов должен начинаться с 
    <li>brrainz.harmony</li>
    <li>ludeon.rimworld</li>
    <li>unlimitedhugs.hugslib</li>	
И заканчиваться (желательно в самый конец):
    <li>aant.onlinecity</li>

Часто возникающие проблемы:

* Если ваш компьютер едва справляется с RimWorld, то имейте в виду, что с этим модом требование к памяти несколько увеличено. Рекомендуется играть на 64-битной операционной системе.

* Игра плохо устойчива с плохой связью, если она часто рвется, возможны проблемы.

* Проверьте версию мода. Это можно сделать, нажав Сетевая игра, а затем Что к чему, тут будет версия в первой строке.

* Если получается подключиться/зарегистрироваться, а дальше черный экран или игра зависает, то попробуйте подождать несколько минут

* Если не получается зарегистрироваться и пишет, что такой логин уже занят, то попробуйте использовать больше 3х символов в логине и пароле, и в логине больше латинских букв. Также попробуйте просто войти, если у вас был сбой, то, возможно, он возник после того, как вы были зарегистрированы. 

* Нет системы сброса пароля. Можно только начать заново. Администратор сервера также не имеет такого доступа, но он может удалить ваше поселение, чтобы освободить место.

* Если ничего не помогает, то попробуйте отключить другие моды. Если это помогло, и игра запустилась, то напишите нам, какой мод оказался не совместим.


# 6. Дополнительные модификации

На сервере есть настройка точного соответствия модов. Если она включена, папка Mods игры и файл ModsConfig.xml будут удалены и скачены с сервера. Будьте осторожны и перед входом на сервер первый раз убедитесь, что в папке Mods нет ничего ценного! Наличие DLC Royality не контролируется и не будет скачено с сервера, вы должны его поставить самостоятельно, если на сервере он требуется для игры. Убедитесь, что он у вас есть, если он нужен. Если он не нужен для сервера где вы играете, то перед входом его лучше отключить. Если на сервере он не нужен, а у вас он есть, то он будет корректно отключен. Дальше по тексту подразумевается, что настройка выключена и никакой синхронизации не происходит.

В случае выключенной синхронизации, если мод OnlineCity у вас не совместим с версией на сервере, то будет выдана ошибка, и вам нужно будет самим обновить его. Также выключенная синхронизация означает, что у разных людей могут быть совершенно разные наборы модов.

Очень внимательно следите за тем, из каких модов предметы кому вы передаете. Если вы оба пользуетесь нужной модификацией, то проблем быть не должно. В других случаях результат не предсказуем. Может быть, будет просто утеряно особое свойство, или предмет просто исчезнет (чаще всего происходит это), но в некоторых случаях игра может полностью сломаться (в этм случае не пробуйте заходить лишний раз, после того как вы убедились, что игра не работает, и сообщите администратору сервера, возможно он сможет восстановить ваше предыдущее сохранение). 

Также крайне не рекомендуется пользоваться модификациями, которые меняют ландшафт: очертание морей и гор. Таким образом, ваше поселение для других игроков может оказаться посреди океана или оказаться недоступным. В любом случае неприятно играть на не одинаковых планетах. Исключение, если вы поддерживаете контакт со всеми игроками и договорились, что такие моды и их настройки будут у всех одинаковы.

Если у вы будете использовать функцию нападения на игроков, то внимательно ознакомитесь с разделом 4. Нападение на поселения игроков, там рассказано и про зависимость дополнительных модификаций.

На данный момент не совместимый мод только один: Save Our Ship 2

Потенциально OnlineCity совместим с любыми другими модами, но, конечно, нужно соблюдать осторожность, особенно используя большие модпаки. Забавно, что мод совместим даже с Zetrith Multiplayer (кроме, возможно, режима PVP - не проверялось). Ведь OnlineCity синхронизирует планету, где у каждого своё поселение, а Zetrith Multiplayer это кооператив одного поселения.


# 7. Сервер быстро

Распакуйте архив с сервером в любую папку. 
Запустите сервер Server.exe и сразу закройте его, после первого запуска он создаст папку World и файл настроек Settings.json.
Если вы будете использовать стандартные настройки без синхронизации модов, то это всё: запускайте сервер Server.exe.

Первый человек, который зарегистрируется на сервере через игру, будет считаться администратором. Ему доступны специальные команды и режим разработчика, даже если он выключен настройками сервера. При первом входе/регистрации администратору будет предложено выбирать сиид мира, заполненость мира в процентах и сложность игры (просто/нормально/сложно). После этого, игре понадобиться несколько минут, после чего вас вернёт в главное меню. Всё готово! Можно заходить снова и как обычный игрок создавать поселение.

Чтобы убедиться, что серер работает как надо, и проблема не в нем, а в сетевом доступе запустите игре там же, где запущен сервер введя в адресе localhost

Для того, что бы другие люди могли подключится к нему, нужно открыть порт 19019 в брандмауэре и на роутере (или тот который указан в Port в Settings.json).
Если у вас не белый IP то для подключения друзей можно использовать Hamachi или RadminVPN или что-то подобное.

Если вам не нужны чертежи, сделанные для торговли на больших серверах, и вы хотите играть с неизмененным игровым балансом, удалите папку Patches из мода по пути OnlineCity -> 1.1 -> patches. Удалить нужно в модах игры и в папке с модами на сервере, если у вас включена синхронизация, как описано ниже. Чертежи можно перебалансить на своё усмотрение. Достаточно открыть в любом блокноте TechBlueprints.xml и знать названия технологий на английском

Читайте дальше, чтобы настроить синхронизацию модов, либо этого уже достаточно для начала игры с друзьями! Просто скопируйте игру и моды, чтобы они были примерно одинаковыми.

Скопируйте все моды которые используете в папку Mods игры (т.е. не используйте моды из папки стима). Удалите лишние моды, чтобы они не закачивались всем игрокам.

Для начала и после каждого изменения модпака нужно очистить папку с настройками игры
```
"c:\Users\UserName\AppData\LocalLow\Ludeon Studios\RimWorld by Ludeon Studios\Config" 
```
(KeyPrefs.xml и Prefs.xml можете не удалять, они не будут участвовать в синхронизации).
Далее запускаем игру и настраиваем моды. Желательно создать новую игру и немного поиграть, чтобы моды записали свои настройки по умолчанию.

После этого в папку с сервером копируем папку Mods из игры, и папку Config из настроек игры. Должно получится так, что в одной папке с Server.exe находятся подпапки World, Mods и Config.

Далее открываем файл Settings.json блокнотом. По умолчанию он будет иметь такой вид:
```
{
  "ServerName": "Another OnlineCity Server",
  "SaveInterval": 10000,
  "Port": 19019,
  "Description": null,
  "IsModsWhitelisted": false,
  "DisableDevMode": false,
  "MinutesIntervalBetweenPVP": 0,
  "GeneralSettings": {
    "StorytellerDef": "",
    "Difficulty": "",
    "EnablePVP": false,
    "DisableGameSettings": false,
    "IncidentEnable": true,
    "IncidentCountInOffline": 2,
    "IncidentMaxMult": 10,
    "IncidentTickDelayBetween": 60000,
    "IncidentCostPrecent": 100,
    "IncidentPowerPrecent": 100,
    "IncidentCoolDownPercent": 100,
    "IncidentAlarmInHours": 10,
    "EquableWorldObjects": false,
    "ExchengeEnable": true,
    "ScenarioAviable": true,
    "ExchengePrecentCommissionConvertToCashlessCurrency": 50,
    "ExchengeCostCargoDelivery": 1000,
    "ExchengeAddPrecentCostForFastCargoDelivery": 100,
    "StartGameYear": -1,
    "EntranceWarning": null,
    "EntranceWarningRussian": null
  },
  "EqualFiles": [
    {
      "FolderType": 2,
      "ServerPath": "Mods",
      "NeedReplace": true,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
        ".cs",
        ".csproj",
        ".sln",
        ".gitignore",
        ".gitattributes"
      ],
      "IgnoreFolder": [
        "bin",
        "obj",
        ".vs"
      ]
    },
    {
      "FolderType": 0,
      "ServerPath": "Config",
      "NeedReplace": true,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
        "KeyPrefs.xml",
        "Knowledge.xml",
        "LastPlayedVersion.txt",
        "Prefs.xml"
      ],
      "IgnoreFolder": null
    },
    {
      "FolderType": 0,
      "ServerPath": "Config",
      "NeedReplace": true,
      "IgnoreTag": [
        "OnlineCity"
      ],
      "XMLFileName": "..\\HugsLib\\ModSettings.xml",
      "IgnoreFile": null,
      "IgnoreFolder": null
    }
  ],
  "ProtectingNovice": false,
  "DeleteAbandonedSettlements": false,
  "ColonyScreenFolderMaxMb": 0
}
```
Заменяем весь блок "EqualFiles": [ ... ], на этот:
```
  "EqualFiles": [
    {
      "FolderType": 2,
      "ServerPath": "Mods",
      "NeedReplace": true,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
        ".cs",
        ".csproj",
        ".sln",
        ".gitignore",
        ".gitattributes",
        "resources.assets.resS",
        ".git",
        ".obj",
        "packages",
        ".vs"
      ],
      "IgnoreFolder": [
        "bin",
        "obj",
        ".vs", 
        "packages"
      ]
    },
    {
      "FolderType": 0,
      "ServerPath": "Config",
      "NeedReplace": true,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
		" Mod___LocalCopy_Performance Optimizer_-18-12_PerformanceOptimizerMod.xml",
		"Mod_2664723367_PerformanceOptimizerMod.xml",
		"Mod_Dubs Mint Menus_DubsMintMenusMod.xml",
		"Mod_Dubs Performance Analyzer_Modbase.xml",
		"Mod___LocalCopy_FrameRateControl_-26-12_FrameRateControlMod.xml",
		"Mod_Camera+_CameraPlusMain.xml",
		"Mod_FrameRateControl_FrameRateControlMod.xml",
		"Mod_RimThemes_RimThemes.xml",
        "Mod_performance_optimizer_PerformanceOptimizerMod.xml",
        "KeyPrefs.xml",
        "Knowledge.xml",
        "LastPlayedVersion.txt",
        "Prefs.xml"
      ],
      "IgnoreFolder": [
        "RimHUD"
      ]
    }
  ],
```
Потом изменяем отдельные настройки:

  "IsModsWhitelisted": true,

Наверняка вам захочется установить ещё какие-то настройки, в более полном описании сервера обратите внимане на эти настройки:

  "DisableDevMode": true,
  "DisableGameSettings": true,
  "ProtectingNovice": true,
  
При запуске сервера могут происходить разнообразные ошибки, возможен вариант, когда после обращения в #техподдержка вас попросят кинуть настройки какого-либо мода в исключения, в таком случае, вы открываете файл Settings.json и добавляете в него нужный файл из папки «Config».
Например, файл "Mod_НазваниеМода.xml":
```
	{
      "FolderType": 0,
      "ServerPath": "Config",
      "NeedReplace": true,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
        "Mod_НазваниеМода.xml",
        "KeyPrefs.xml",
        "Knowledge.xml",
        "LastPlayedVersion.txt",
        "Prefs.xml"
      ],
      "IgnoreFolder": null
    } 
```

# 8. Сервер, про синхронизацию 

В блоке "EqualFiles" перечисляются итерации синхронизаций.

В каждой итерации должно быть обязательно указано:

Поле "FolderType" указывается относительный путь:

0 - ModsConfigPath например c:\Users\User\AppData\LocalLow\Ludeon Studios\RimWorld by Ludeon Studios\Config\

1 - GamePath например c:\Program Files (x86)\Steam\steamapps\common\RimWorld\

2 - ModsFolder например c:\Program Files (x86)\Steam\steamapps\common\RimWorld\Mods\

Поле "ServerPath" это папка на сервере (папка должна лежать рядом с Server.exe, как World).

Поле "NeedReplace" указывает, что если файл отличается, то нужно скачать с сервера. Иначе, если файл отличается, то он не изменяется и выдается отказ запуска.

Итерация может быть двух видов:

1. Синхронизация папки указанной в "FolderType" и всех файлов в ней

Поле "IgnoreFile" - список окончаний имен файлов, которые будут игнорироваться. Можно записать полное имя файла, например "Prefs.xml", а можно только расширение, например ".cs".

Поле "IgnoreFolder" - список папок (полное наименование папки, не окончание, папка может быть на любой вложенности), которые будут игнорироваться. Игнорируется не только их содержимое, но и их присутствие и отсутствие на клиенте и сервере.

2. Синхронизация содержимого конкретного XML файла, с указанием тэгов внутри него, которые нужно игнорировать

Поле "XMLFileName" относительный от "FolderType" путь и имя XML файла. Если файл в папке которая синхронизируется другими итерациями, то он игнорируется в них.

Поле "IgnoreTag" значение тэгов содержимое и наличие которых будет игнорироваться (однако не игнорируются пробелы вокруг тэга, технически файлы сравниваются после удаления перечисленных тут тэгов). Но если файл отличается чем-то кроме этих тэгов, то он будет скачен с сервера целиком и содержимое указанных тэгов на клиенте будет утрачено (конечно если в NeedReplace true).

Также в "IgnoreTag" есть особенность, если вместо тэга задать текст, с припиской в начале "{lineWith}ttt", то текст "ttt" будет искаться в каждой строке файла и если он там есть эта строка будет игнорироваться.

Разберем на рабочем примере блоков в EqualFiles
1.```
    {
      "FolderType": 2,
      "ServerPath": "Mods",
      "NeedReplace": true,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
        ".cs",
        ".csproj",
        ".sln",
        ".gitignore",
        ".gitattributes",
		".git",
		".obj",
		"packages",
		".vs"
      ],
      "IgnoreFolder": [
        "bin", 
        "obj", 
        ".vs", 
        "packages"
      ]
    },```
Синхронизация папки с модами. Игнорируются файлы с расширениями в IgnoreFile, и подпапки в IgnoreFolder.

"NeedReplace": true так как мы хотим, чтобы при различиях и недостающих модах они скачались и обновились автоматически (иначе просто ошибка и выход).

"IgnoreTag" и "XMLFileName" всегда null, если блок должен синхронизировать папку.

Саму папку с модами следует скопировать из папки с игрой, предварительно протестировав игру и удалив папки с модами, которые вы не включаете (чтобы люди не качали себе лишнего). При этом следует скопировать все моды из Steam именно в папку с модами в игре и включить именно их, т.к. будет синхронизирована только папка в игре.

2.```
    {
      "FolderType": 1,
      "ServerPath": "Game",
      "NeedReplace": false,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
        ".cs",
        ".csproj",
        ".sln",
        ".gitignore",
        ".gitattributes",
		"unins000.dat",
		"unins000.exe",
		"Version.txt"
      ],
      "IgnoreFolder": [
        "Mods",
        "RimWorldWin64_Data",
		"Languages"
      ]
	}, ```
Проверка, что папка с игрой ровно такая же, как на сервере, иначе выход (игру не качаем, т.к. это может быть способ незаконного скачивания платных DLC, для этого "NeedReplace" установлено в false).
Игнорируем папку с модами, т.к. она синхронизируется отдельно, игнорируем ресурсы, т.к. они не являются целью взлома, а весят много, и игнорируем локализацию.

В некоторых случаях файл "Version.txt" бывает изменен, поэтому игнорируем его.

Если вы используете этот блок, то скопируйте папку с игрой на сервер, очевидно подпапки Mods и RimWorldWin64_Data (и другие в "IgnoreFolder") можно не копировать.

3.```
    {
      "FolderType": 0,
      "ServerPath": "Config",
      "NeedReplace": true,
      "IgnoreTag": null,
      "XMLFileName": null,
      "IgnoreFile": [
        "Mod_performance_optimizer_PerformanceOptimizerMod.xml",
        "Mod_dubs mint menus_DubsMintMenusMod.xml",
        "TrueTerrainColorsCache.xml",
        "Mod_2800857642_map_preview_ModInstance.xml",
        "TrueTerrainColorsCache.xml",
		"Mod_Rpg Style + CE_Sandy_Detailed_RPG_Inventory.xml",
        "KeyPrefs.xml",
        "Knowledge.xml",
        "LastPlayedVersion.txt",
        "Prefs.xml"
      ],
      "IgnoreFolder": [
        "RimHUD"
      ]
    }```
	
Синхронизация настроек. В общем случае перед копированием папки настроек c:\Users\User\AppData\LocalLow\Ludeon Studios\RimWorld by Ludeon Studios\Config на сервер следует немного поиграть в локальную обычную игру, с затрагиванием всех используемых модов и их настройкой, если такая нужна. Это нужно из-за того, т.к. не все моды записывают настройки сразу после запуска игры, и может так получиться, что у игроков мод активируется записывает свои настройки и у игрока происходит обновление настроек, после чего в игре настройки снова меняются и так по кругу.

Если настройки в моде не влияют на баланс вашего сервера и их можно менять игроку, то добавьте их в исключения (в интерфейсе из сетевой игры их по прежнему нельзя менять, но можно зайти в одиночную игру и изменить там, не трогая остальные настройки модов).

4.```
    {
      "FolderType": 0,
      "ServerPath": "Config",
      "NeedReplace": true,
      "IgnoreTag": [
        "OnlineCity"
      ],
      "XMLFileName": "..\\HugsLib\\ModSettings.xml",
      "IgnoreFile": null,
      "IgnoreFolder": null
    },```
	
Помимо настроек в папке Config, нужно ещё синхронизовать настройки в HugsLib. Это удобно делать синхронизирую отдельный файл с игнорированием модов, настройки которых могут меняться. Для этого нужно определить тэги и вписать их в массив "IgnoreTag". Например, нужно добавить "OnlineCity", чтобы синхронизация не затирала этот файл, при сохранении последнего сервера и логина.

В этом примере также видно, как можно указать файл, который находится не в папке Config (которая указана в "ServerPath"), а рядом с ней (папка ".." указывает, что нужно вернуться на один уровень выше, таким образом мы выходим из Config, чтобы зайти в HugsLib).
При синхонизации файлов (а не папок) нужно заполнять поля "IgnoreTag" и "XMLFileName", а "IgnoreFile" и "IgnoreFolder" должны быть null.

5.	```
    {
      "FolderType": 0,
      "ServerPath": "Config",
      "NeedReplace": true,
      "IgnoreTag": [
        "version",
        "{lineWith}pirateby.anothertweaks"
      ],
      "XMLFileName": "ModsConfig.xml",
      "IgnoreFile": null,
      "IgnoreFolder": null
    }```
	
Отдельно синхронизируем файл ModsConfig.xml, чтобы сделать возможность игрокам включать некоторые моды самостоятельно. Для каждого такого мода в "IgnoreTag" создаем специальную запись, которая начинается на {lineWith}, а далее идет её наименование в li (<li>unlimitedhugs.hugslib</li>). Чтобы отключить контроль и за папкой с модом можно их добавить в первый блок (с "ServerPath": "Mods") в "IgnoreFolder", например: "AnotherTweaks"```
      "IgnoreFolder": [
        "bin",
        "obj",
        ".vs", 
        "packages", 
        "AnotherTweaks"
      ]```
	  
Не забываем красиво расставлять запятые!

Также нужно помнить, что все символы \ в пути к файлам и папкам нужно удваивать \\


# 9. Сервер, общие настройки
  
ServerName и Description - имя и описание сервера, пока нигде не используется, не обязательно заполнять.

SaveInterval - частота в ms с которой сервер будет сохранять новые данные при их наличии, лучше не менять значение по умолчанию 10000.

Port - самый важный параметр, порт на котором работает ваш сервер, по умолчанию 19019.

IsModsWhitelisted - если используется точное соответствие модов, то установить true, иначе false. Если выключено, то блок "EqualFiles" игнорируется.

DisableDevMode - будет ли отключаться режим разработчика, когда игроки заходят онлайн.

GeneralSettings - Иерархия настроек существующая по техническим нуждам, внутри неё настройки также важны как остальные.

ProtectingNovice - Защита начинающих игроков от нападения, а также запрет абуза передачи товаров и пешек от новых поселений.

DeleteAbandonedSettlements - Сервер будет автоматически удалять не развитые поселения за которые давно не играют.

DisableGameSettings - Запретить менять настройки рассказчика и модификаций в игре

IncidentEnable - Разрешены ли инциденты (действия по кнопке Взаимодействие на чужих поселениях)

IncidentCountInOffline - Сколько разрешено инцидентов в очереди (от одного игрока в любом случае только одно)

IncidentMaxMult - Максимальный коэф. силы инцидентов

IncidentTickDelayBetween - Минимальная пауза между инцидентами в тиках (1 день = 60000)

IncidentCostPrecent - Модификатор стоимости найма в процентах

IncidentPowerPrecent - Модификатор силы рейдов в процентах

IncidentCoolDownPercent - Модификатор передышки после рейда, в %. Умножается на IncidentTickDelayBetween в случае рейдов, а не природных событий

IncidentAlarmInHours - Модификатор предупреждения перед рейдом, в иговых часах. При сильных рейдах выводиться предупреждение перед атакой и дается указанное кол-во часов перед атакой.

ExchengePrecentWealthForIncident - Насколько стоимость вещей на бирже, в ордерах и на счету будет влиять на игровые инциденты (сколько в серебре на 1000 серебра стоимости вещей. Например, 1200 - это 120%, на 20% больше влияния на рейд от вещей перемещённых на сервер)

ExchengeCostCargoDelivery - Стоимость доставки 1000 серебра на расстояние 100 клеток (это примерно 1/15 планеты по экватору, а если /10 то сколько стоит доставка соседям)

StartGameYear - Назначит стартовый год в игре вместо 5500

EntranceWarning - Предупреждение при входе на сервер

EntranceWarningRussian - Предупреждение при входе на сервер. На русском


ScenarioAviable - пока не используется

StorytellerDef - пока не используется

Difficulty - пока не используется

ExchengePrecentCommissionConvertToCashlessCurrency - пока не используется

ExchengeAddPrecentCostForFastCargoDelivery - пока не используется

EquableWorldObjects - функционал пока не готов, следует удалить строку или поставить false.

ExchengeEnable - функционал пока не готов, следует удалить строку или поставить false.

ColonyScreenFolderMaxMb - функционал пока не готов, следует удалить строку или поставить 0.

EnablePVP - устарело, т.к. ПВП не поддерживается. Старое значение: Включить режим нападения игроков друг на друга онлайн с ограниченным управлением

MinutesIntervalBetweenPVP - устарело, т.к. ПВП не поддерживается. Старое значение: после нападения на одного игрока другим, на него не могут нападать заданное количество минут. Можно поставить, например, 0 или 20.



Также есть Discord бот. По его настройке можно прочесть отдельно здесь: https://github.com/AantCoder/OnlineCity/tree/dev/Source/DiscordChatBotServer


Некоторые решения при проблемах запуска своего сервере:

1. Консоль сервера открыта и в ней нет ошибок
2. Попробовать с того же компьютера зайти в игру по адресу localhost
3. Проверить, что друзья присоединяются по нужному IP адресу (можно гуглить "как узнать мой IP")
4. Пробросить порт 19019 в роутере (также гуглится "как открыть порт")
5. Проверить, что брандмауэр разрешает использовать подключения, либо отключить его
6. Сверить версии мода у того, кто подключается. Это можно сделать нажав Сетевая игра, и Что к чему, тут будет версия в первой строке
7. Игра плохо устойчива с плохой связью, если она часто рвется возможны проблемы
8. Если получается подключиться/зарегистрироваться, а дальше черный экран, то попробуйте подождать 5 минут
9. Если не получается зарегистрироваться и пишет, что такой логин уже занят, то попробуйте использовать больше 3х символов в логине и пароле, и в логине больше латинских букв


Все сохранения игроков лежат в подпапке World\DataPlayers и имеют имя {имя игрока}.dat{номер}

{имя игрока} - это логин игрока, но некоторые символы недопустимые для имени файла заменяются на символ _

{номер} - это история сохранений, 1 - самое последнее, 2 - предыдущее, 3 - самое старое

Также бывают ситуации, когда вместо истории остается только файл {имя игрока}.dat1 и {имя игрока}.bak. Это значит, что возврат к прошлому сохранению нежелателен. Например, так происходит после того, как игрок что-то передал другому игроку, чтобы исключить бесконечную передачу.

Как администратор может помочь игроку?

Если удалить файлы {имя игрока}.dat*, то при следующем входе игроку будет предложено создать новое поселение. Однако лучше для этого воспользоваться командой из консоли /killhimplease {UserLogin}

Если сохранение игрока испортилось, вы можете удалить файл {имя игрока}.dat1 и переименовать в это имя файл {имя игрока}.dat2 или {имя игрока}.dat3

Вы можете регулярно удалять поселения игроков, которые играли меньше нескольких игровых дней и не заходили уже давно. Для этого в игре можно найти их поселения на карте по значку самого маленького домика, нажать на них, затем на информацию i. Здесь можно увидеть общую стоимость поселения (например, если она меньше 30000) и когда пользователь заходил последний раз. Если решено удалить игрока, то воспользуйтесь командой /killhimplease {UserLogin}
Либо сервер может это делать сам по настройке DeleteAbandonedSettlements.

Как убедиться, что игрок тот за кого себя выдает? Например, если игрок пишет, что его сохранение сломалось, и он просит удалить его поселение. В этом случае попросите его попытаться зайти в игру прямо сейчас. Потом попросите, чтобы он прислал вам свои логи за сегодняшний день. Потом можно найти строки его входа на сервер и сравнить время с логами на самом сервере (имейти в виду, что могут быть разные часовые пояса). 


Блокировка злоумышленников.

В папке World можно создать два файла для бана подключений.
blockip.txt - IP адреса которые нужно заблокровать. Одна строка один IP, последнее значение можно писать через дробь 1.2.3.0/2 добавит три IP закачивающиеся на .0, .1 и .2

blockkey.txt - это бан по ключам. каждый игрок имеет уникальные ключи. Узнать их можно из логов по поиску "key=", найдется примерно такая строка:

Checked loginName key=hlw57jjSV5HacQbb9iiB@@@51b36et2ZBvBUkUztF+N

У каждого пользователя несколько ключей и совпадения любого из них достаточно для блокировки. Поэтому для бана по ключу в файл нужно добавить оба (каждый в отдельную строку). Ключи разделены тремя символами @@@ их писать не нужно.
При первом входе с нового оборудования добавляется специальный ключ 111@@@

В оба этих файла можно писать комментарии, которые должны идти после ключа или IP через пробел


Можно получить общие данные по всем игрокам в консоле, нажав букву S. Будет создан файл Players_дата.csv со списком игроков, временем последнего входа и некоторой игровой информацией. Вот описание некоторых столбцов:

LastOnlineDay - сколько реальных дней назад игрок был онлайн

BaseCount - текущее количество поселений

CaravanCount - текущее количество караванов

MarketValue - текущая стоимость поселения

MarketValuePawn - текущая стоимость пешек

AttacksWonCount - сколько на игрока направили инциндентов

AttacksInitiatorCount - сколько игрок сделал инциндентов на других игроков

ColonistsCount - cколько всего колонистов

ColonistsDownCount - сколько из колонистов не на ногах

ColonistsBleedCount - сколько из колонистов имеют кровопотерю

PawnMaxSkill - cколько колонистов имеют 8 из 12 навыков 20 уровня. Предположительно всегда должно быть = 0. Если оно равно ColonistsCount, значит это точно чит

KillsHumanlikes - сколько колонисты игрока убили других людей

KillsMechanoids - сколько колонисты игрока убили механоидов

KillsBestPawnHN - какой колонист убил наибольшее количество других людей

KillsBestPawnH - колько именно

KillsBestPawnMN - какой колонист убил наибольшее количество механоидов

KillsBestPawnM - колько именно

Grants - права на сервере, "UsualUser" - обычный пользователь, "SuperAdmin. Moderator" - создатель мира (первый зарегистрировавшийся)

IntruderKeys - ключи по которым можно банить и искать логины на которые входят с одного компьютера

StartMarketValue - цена стартового поселения

StartMarketValuePawn - цена стартовых пешек

MarketValueBy15Day - максимальная стоимость поселения которую игрок набрал за 15 дней

MarketValuePawnBy15Day - максимальная стоимость пешек которую игрок набрал за 15 дней

MarketValueByHour - максимальная стоимость поселения которую игрок набрал за 1 час игры, исключая время на паузе

MarketValuePawnByHour - максимальная стоимость пешек которую игрок набрал за 1 час игры, исключая время на паузе

TicksByHour - максимальное количество тиков за один час онлайн (включая время паузы)

HourInGame - время игры за текущую колонию, исключая время на паузе


Логи сервера создаются автоматически Log_дата.txt, вместе с файлом с инцидентами Incidents_месяц.csv. Здесь отмечается несколько событий на каждый инцидент:

NewIncident - игрок fromLogin заказал рейд на toLogin

SendMail - у toLogin прошли все ожидание от прошлых, и пол дня ожидания перед атакой для рейдов и событие непосредственно началось

DayAfterMail - прошел день после события, в этот момент определяется сколько нужно ждать ещё (или не нужно больше), удобно смотреть сколько рейд нанес урона

End - окончание ожидания, событие полностью завершено и в этот момент освобождает очередь.

Колонки:

fromDay и toDay - какой на этот момент игровой день у нападающего и цели

worth - это общая стоимость вещей и пешек. В отдельных колонках для всего аккаунта, в worthTarget именно поселения цели

delayAfterMail - это сколько дней задержки было рассчитано (в момент расчета 1 день уже прошел)


# 10. Функции мода в игре

Специальные команды пишутся в чате (обычно в любой канал), и они не будут в нём отображены. Все такие команды начинаются с символа /

/killmyallplease - удаляет сохранение с сервера, и все поселения и караваны с карты. Регистрация остается. При следующем заходе будет предложено создать новое поселение. Функцию можно также вызвать с вкладки О моде по кнопке Начать заново.

/killhimplease {UserLogin} - (только для администратора) аналогично /killmyallplease, но указанного игрока.

/everybodylogoff - (только для администратора) команда для корректного завершения работы сервера. Всем онлайн игрокам передается команда на сохранение и выход. После вызова команды нужно следить за консолью сервера: как только активность игроков исчезнет и сервер сохранит данные консоль можно выключать. Не рекомендуется запускать при активной PVP сессии.

/createchat {Name} - создает новый чат с указанным именем, также доступно в интерфейсе чата

/addplayer {UserLogin} - добавляет игрока в текущий чат, также доступно в интерфейсе чата

/renamechat {Name} - переименовывает текущий чат, также доступно в интерфейсе чата

/exitchat - выходит из текущего чата, также доступно в интерфейсе чата

/discord - подробнее смотри https://github.com/AantCoder/OnlineCity/tree/dev/Source/DiscordChatBotServer

/say {'имя игрока'} {/цвет}* {'заголовок'} {текст} {продолжение текста} ... - отправляет сообщение игроку в виде игрового письма, доступно администратору.
*не обязательный параметр цвет определяется по началу с / Может быть таким:
	/treatbig - красное письмо со звуком
	/treatsmall - красное письмо
	/death - серое письмо со звуком
	/negative - желтое письмо
	/positive - синее письмо со звуком
	/visitor - синее письмо
	/neutral - серое письмо (по умолчанию)
	
Вместо имени игрока можно использовать подстановки:
	all - всем игрокам
	online - все кто сейчас в игре

/call {событие} {'имя игрока'} {sId поселения цели} {мощность}* {способ прибытия}* {фракция}*
*опционально для некоторых событий
имя игрока обязательно в одинарных ковычках, например: /call raid 'babur'

Для администратора допустимо указывать вместо имени игрока подстановки:
	all - всем игрокам, кроме вызывающего
	online - все кто сейчас в игре, кроме вызывающего

Список доступных событий:
*	raid - вызов рейда на игрока. Доступен выбор мощности, целое число от 1 до 10. Также доступен способ прибытия и выбор фракции.
*	inf - вызов жуков на карте игрока. Доступен выбор мощности
*	acid - вызов кислотного дождя на карте игрока
	
Список доступных способов прибытия:
*	walk - прибытие пешком со случайного края карты
*	air - сброс в десантных капсулах в домашнюю область игрока
*	random - сброс в капсулах в случайные точки на карте. Даёт сильно рассредоточенный рейд
	
Список доступных фракций:
*	tribe - враждебная фракция аборигенов. Огромное количество людей с примитивным оружием
*	pirate - враждебная фракция индустриального уровня развития. Прибудут как солдаты с хорошим огнестрельным оружием и ракетницами, так и бойцы ближнего боя
*	mech - фракция механоидов. Тяжелобронированные, как правило, прибывают в малом количестве. Когда качество важнее количества

Пример:

/call raid 'babur' 143 8 random pirate

/call inf 'SSDExecutor' 23 4

/call acid 'Aant' 16

Примечание:

если для события raid не указать мощность, способ прибытия и фракцию, по умолчанию вызывается

/call raid {'имя игрока'} 1 walk pirate


Также можно вызвать стандартные игровые  указав их defName (тут 0 0 всегда, нужно для совместимости):
/call def online 0 0 {defName}

Пример:

/call def online 0 0 ThrumboPasses
(ко всем кто в сети придут Трумбо!)


# 11. Возможные проблемы

Если игра сломалась (не загружается колония или из-за ошибок невозможно играть), то вы можете связаться с администратором и попросить его восстановить игру с прошлого сохранения. Также вы можете начать игру заново под тем же аккаунтом.

Есть не решенная проблема передачи пешек при использовании HardcoreSK. Может быть подобная проблема будет с ещё каким-нибудь модами, пока не известно.

Если вы попытались зайти на сервер, но игра выдала сообщение, что не все файлы прошли проверку, то просто зайдите ещё раз. Это нормальная ситуация. Либо произошли какие-нибудь, возможно незначительные, изменения в модпаке. Либо что-то изменилось в папке Mods или файл ModsConfig.xml был изменен вашей игрой.

После регистрации и входа может происходить загрузка модов и сохранения с сервера. Иногда это может занимать несколько минут, в течении которых игра может зависнуть или отображать чёрный экран. Попробуйте подождать до 10 минут. В отдельных случаях при первом заходе на сервер с загрузкой большого модпака с плохой скоростью интернета это может занять значительно большее время.

Если вы уже заходили и играли на сервер с синхронизацией модов, то если после перезагрузки игры нажать в главном меню Моды, то при следующем заходе на сервер игра скорее всего будет перезапущена. Фактически ничего не менялось, но игра после открытия списка модов перезаписывает ModsConfig.xml и он может немного измениться. Это нормальное поведение, просто реже нажимайте кнопку Моды :)

Есть баг, который сложно поймать. Иногда после передачи поселенца другому игроку его копия (пешка с тем же именем, професией и навыками) может появиться в каком-нибудь событии или попросить присоединиться к поселению. Не соглашайтесь, очивидцы говорят, что это призрак который крашит игру! :)

# 12. Другие часто задаваемые вопросы

>Как выбрать сценарий игры?

Сценарий игры настроить нельзя, но рассказчика и сложность можно сменить сразу после старта через настройки. Первоначально игра начинается с рассказчиком Кассандрой, стандартным сценарием Классика и сложности, которую установили при создании сервера.

>Можно ли играть вместе за одно поселение?

Играть на одной карте нельзя, кроме нападения на поселение другого игрока, но это всё равно не прямое управление. Если вам нужна такого типа игра, попробуйте Zetrith Multiplayer

>Что происходит у других когда я нажимаю паузу?

Ничего :) Течение игры всех участников независимо. У каждого игрока на карте своя игровая сессия, в которую добавлено взаимодействие с чужими поселениями и караванами. Например, можно поставить паузу, и посмотреть, как чужие караваны двигаются по карте (хотя, попасть на время когда другой игрок ходит караваном сложно).
А вот какой может быть пример взаимодействия: в момент нападения можно запросить помощи у друга и поставить игру на паузу, он в это время подойдёт караваном и передаст своих поселенцев; после отбития атаки можно вернуть поселенцев таким же способом. Или, например, тот кто пришёл на помощь может передать всех пешек кроме одного животного, чтобы караван не был расформирован, тогда вернуть поселенцев можно будет сразу же после отбития, создав из них новый караван и передав их в назад в караван друга.

>Игра зависает после авторизации

Не зависает, а прогружает, просто подождите. Процесс подгрузки может занять до ~5 - 10 минут.

>Как найти логи

Отдельные логи OnlineCity пишутся в: %appdata%\..\LocalLow\Ludeon Studios\RimWorld by Ludeon Studios\OnlineCity (это можно вставить в проводник)

>Как удалить свою колонию?

Нужно открыть окно Онлайн через панель внизу или через Меню в игре. Далее на вкладке О моде нажать Начать заново.
Это же действие можно сделать, написав в чат команду: /killmyallplease

>Как часто сохраняется игра?

Игра сохраняется на сервер раз в 15 минут, если вы не изменили это на вкладке Настройки, также сохраняется при выходе из игры через меню. 
Используя ALT + F4, вы можете откатить свою колонию к последнему сохранению.

>Что делать если я забыл пароль?

К сожалению системы восстановления пароля нету. Попытайтесь вспомнить и если доступ никак не получиться восстановить, то попросите администратора удалить вашу колонию, чтобы освободить место на планете и зарегистрируйте нового пользователя.

>Доступен ли режим разработчика другим игрокам?

Это зависит от настроек сервера. Если режим запрещен, то все, кроме администратора, не смогут его поставить. Вы можете проверить это сами :)


Ссылки:

Основной сервер для игры и тестирования:  rimworld.online

Discord:  https://discord.gg/5DzWrnR

Оф. группа мода ВК:  https://vk.com/rimworldonline

Trello:  https://trello.com/b/gXtWtDjy/onlinecity-mod-rimworld

GitHub:  https://github.com/AantCoder/OnlineCity
